<div class="p-6 hover:cursor-pointer" routerLink="/">
    <img src="assets/LOGO.svg" alt="SavoryTrail" class="h-6" />
</div>

<div class="flex justify-center items-center min-h-[70vh] mb-24">
    <div class="w-full max-w-2xl px-20 py-8 rounded-lg">
        <div class="text-center m-8">
            <h1 class="text-3xl font-medium text-gray-800">Sign up to find exciting recipes</h1>
        </div>

        <!-- Social Login Buttons -->
        <div class="flex flex-row gap-4">
            <button type="button"
                class="w-full py-2 px-4 border border-gray-500 rounded-full hover:cursor-pointer flex items-center justify-center space-x-2 hover:bg-gray-50 transition duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24">
                    <path
                        d="M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"
                        fill="#4285F4" />
                </svg>
                <span class="text-gray-700 font-medium text-sm">Continue with Google</span>
            </button>

            <button type="button"
                class="w-full py-2 px-4 border border-gray-500 rounded-full hover:cursor-pointer flex items-center justify-center space-x-2 hover:bg-gray-50 transition duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 384 512">
                    <path
                        d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"
                        fill="#000000" />
                </svg>
                <span class="text-gray-700 font-medium text-sm">Continue with Apple</span>
            </button>
        </div>

        <!-- Divider -->
        <div class="flex items-center my-6">
            <hr class="flex-grow border-t border-gray-300" />
            <span class="px-2 text-gray-700 text-sm">or</span>
            <hr class="flex-grow border-t border-gray-300" />
        </div>

        <!-- Form -->
        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
            <!-- Username Field -->
            <div class="mb-6">
                <label for="username" class="block text-sm font-medium text-gray-700 mb-2">Username</label>
                <input 
                    type="text" 
                    id="username"
                    formControlName="username"
                    placeholder="Choose a username"
                    class="w-full px-4 py-2 border text-sm rounded-md text-gray-700 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"
                    [class.border-red-500]="signupForm.get('username')?.invalid && signupForm.get('username')?.touched"
                    [class.border-gray-500]="!signupForm.get('username')?.invalid || !signupForm.get('username')?.touched"
                />
                <div class="mt-1 text-sm text-red-600" *ngIf="signupForm.get('username')?.invalid && signupForm.get('username')?.touched">
                    <div *ngIf="signupForm.get('username')?.hasError('required')">Username is required</div>
                    <div *ngIf="signupForm.get('username')?.hasError('minlength')">Username must be at least 3 characters</div>
                </div>
            </div>

            <!-- Email Field -->
            <div class="mb-6">
                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                <input 
                    type="email" 
                    id="email"
                    formControlName="email"
                    placeholder="Enter your email"
                    class="w-full px-4 py-2 border text-sm rounded-md text-gray-700 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"
                    [class.border-red-500]="signupForm.get('email')?.invalid && signupForm.get('email')?.touched"
                    [class.border-gray-500]="!signupForm.get('email')?.invalid || !signupForm.get('email')?.touched"
                />
                <div class="mt-1 text-sm text-red-600" *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
                    <div *ngIf="signupForm.get('email')?.hasError('required')">Email is required</div>
                    <div *ngIf="signupForm.get('email')?.hasError('email')">Please enter a valid email</div>
                </div>
            </div>

            <!-- Password Field -->
            <div class="mb-6">
                <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                <input 
                    type="password" 
                    id="password"
                    formControlName="password"
                    placeholder="Password (8 or more characters)"
                    class="w-full px-4 py-2 border text-sm rounded-md text-gray-700 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"
                    [class.border-red-500]="signupForm.get('password')?.invalid && signupForm.get('password')?.touched"
                    [class.border-gray-500]="!signupForm.get('password')?.invalid || !signupForm.get('password')?.touched"
                />
                <div class="mt-1 text-sm text-red-600" *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">
                    <div *ngIf="signupForm.get('password')?.hasError('required')">Password is required</div>
                    <div *ngIf="signupForm.get('password')?.hasError('minlength')">Password must be at least 6 characters</div>
                </div>
            </div>

            <!-- Confirm Password Field -->
            <div class="mb-6">
                <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                <input 
                    type="password" 
                    id="confirmPassword"
                    formControlName="confirmPassword"
                    placeholder="Confirm your password"
                    class="w-full px-4 py-2 border text-sm rounded-md text-gray-700 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"
                    [class.border-red-500]="signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched"
                    [class.border-gray-500]="!signupForm.get('confirmPassword')?.invalid || !signupForm.get('confirmPassword')?.touched"
                />
                <div class="mt-1 text-sm text-red-600" *ngIf="signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched">
                    <div *ngIf="signupForm.get('confirmPassword')?.hasError('required')">Please confirm your password</div>
                    <div *ngIf="signupForm.get('confirmPassword')?.hasError('passwordMismatch')">Passwords do not match</div>
                </div>
            </div>

            <!-- Terms and Conditions Checkbox -->
            <div class="w-full rounded-lg mb-6">
                <label class="flex items-start space-x-3 cursor-pointer">
                    <input 
                        type="checkbox"
                        class="mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-400 rounded flex-shrink-0" 
                    />
                    <span class="text-sm text-gray-700 leading-relaxed">
                        Yes, I understand and agree to the
                        <span class="text-green-700 hover:text-green-800 underline font-medium cursor-pointer">SavoryTrail Terms of Service</span>, including the
                        <span class="text-green-700 hover:text-green-800 underline font-medium cursor-pointer">User Agreement</span>
                        and
                        <span class="text-green-700 hover:text-green-800 underline font-medium cursor-pointer">Privacy Policy</span>.
                    </span>
                </label>
            </div>

            <!-- Error Message -->
            <div class="bg-red-50 border border-red-200 rounded-md p-4 mb-6" *ngIf="errorMessage">
                <div class="text-sm text-red-800">
                    {{ errorMessage }}
                </div>
            </div>

            <!-- Submit Button -->
            <div class="mt-12 text-center">
                <button 
                    type="submit"
                    [disabled]="signupForm.invalid || isSubmitting"
                    class="w-2/6 py-2 mb-6 bg-[#017141] hover:bg-green-700 hover:cursor-pointer text-sm text-white font-medium rounded-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    {{ isSubmitting ? 'Creating Account...' : 'Create my account' }}
                </button>

                <p class="text-gray-700 text-sm">
                    Already have an account? 
                    <span routerLink="/login" class="hover:cursor-pointer text-green-700 hover:text-green-800">Log In</span>
                </p>
            </div>
        </form>
    </div>
</div>